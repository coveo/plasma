// Tables
//
// Basic table
//
// Markup:
//<table>
//  <thead>
//    <tr>
//      <th class="selection">
//        <label class="coveo-checkbox-label">
//          <input type="checkbox" class="coveo-checkbox">
//          <button title="Select All" type="button"/>
//        </label>
//      </th>
//      <th class="admin-sort">
//        <div class="admin-sort-icon">
//          <i class="coveo-sprites-tables-sort_asc"></i>
//          <i class="coveo-sprites-tables-sort_desc"></i>
//        </div>
//        Column 1
//      </th>
//      <th>Column 2</th>
//      <th class="admin-sort">
//        <div class="admin-sort-icon">
//          <i class="coveo-sprites-tables-sort_asc"></i>
//          <i class="coveo-sprites-tables-sort_desc"></i>
//        </div>
//        Column 3
//      </th>
//    </tr>
//  </thead>
//  <tbody>
//    <tr>
//      <td class="selection">
//        <label class="coveo-checkbox-label">
//          <input id="main-checkbox" type="checkbox" class="coveo-checkbox">
//          <button type="button"></button>
//        </label>
//      </td>
//      <td>Data 1</td>
//      <td>Data 2</td>
//      <td>Data 3</td>
//    </tr>
//    <tr class="selected">
//      <td class="selection">
//        <label class="coveo-checkbox-label">
//          <input id="main-checkbox" type="checkbox" class="coveo-checkbox">
//          <button type="button"></button>
//        </label>
//      </td>
//      <td>Data 1</td>
//      <td>Data 2</td>
//      <td>Data 3</td>
//    </tr>
//  </tbody>
//</table>
//
// Styleguide 4.1
@import (reference) "../common/colors";
@import (reference) "../sprites";

table {
    width: 100%;
    text-align: left;
    border-spacing: 0;
    border: none;

    th, td {
        padding: 5px 15px;
        text-align: left;
        vertical-align: middle;

        &.selection {
            margin: 0;
            padding: 0 10px;
            width: 25px !important;
        }

        &:first-child {
            padding-left: 20px;
        }

        &:last-child {
            padding-right: 20px;
        }
    }

    thead tr {
        background-color: transparent;
        color: @table-header-text-color;
        height: 25px;
        font-size: 12px;
        font-weight: bold;

        th {
            border-bottom: solid 2px @table-borders;
            border-top: solid 2px @table-borders;
            line-height: normal;
            white-space: nowrap;

            &.metric {
                background-color: @metric-table-header-color;
                color: @heading-2-color;
            }

            &.admin-sort {
                cursor: pointer;
                position: relative;

                .admin-sort-icon {
                    position: absolute;
                    top: 3px;
                    left: 15px;

                    i {
                        display: block;
                        position: relative;
                        left: -11px;
                        top: 3px;
                        opacity: 0.3;

                        &:hover {
                            opacity: 0.6;
                        }

                        + i {
                            margin-top: 2px;
                        }
                    }
                }

                &.admin-sort-ascending, &.sorting_asc {
                    cursor: pointer;

                    .admin-sort-icon i.coveo-sprites-tables-sort_asc {
                        opacity: 1;
                    }
                }

                &.admin-sort-descending, &.sorting_desc {
                    cursor: pointer;

                    .admin-sort-icon i.coveo-sprites-tables-sort_desc {
                        opacity: 1;
                    }
                }
            }

            &.sorting_asc {
                background-color: @table-header-background-hover;
                background-image: none;
                cursor: pointer;
            }

            &.sorting_desc {
                background-color: @table-header-background-hover;
                background-image: none;
                cursor: pointer;
            }

            &.sorting {
                cursor: pointer;
            }

            &.sorting_disabled {
                cursor: default;
            }

            &.sorting, &.sorting_asc, &.sorting_desc, &.admin-sort {
                &:hover {
                    background-color: @table-header-background-hover;
                }
            }
        }
    }

    tbody.table-loading {
        opacity: 0.3;
    }

    tr {
        font-size: 15px;
        height: 36px;

        td {
            text-align: left;
            border-bottom: solid 1px @table-borders;
            margin-left: 15px;

            &.edit.enabled {
                color: @coveo-blue;
                cursor: pointer;
            }

            .btn-icon, .dropdown-toggle {
                cursor: default;
                opacity: 0.3;

                &.enabled:active:hover {
                    border-radius: 4px;
                }

                &.disabled {
                    cursor: default;
                    opacity: 0.3;
                }

                &.enabled {
                    cursor: pointer;
                    opacity: 1;
                }
            }

            &.actions {
                user-select: none;
                white-space: nowrap;
                text-align: right;
                position: relative;
                overflow: visible;
                background-clip: padding-box; // Fix for FF and IE

                & > div {
                    display: inline-block;
                    font-size: inherit;
                }

                &.group-collapse {
                    cursor: pointer;

                    i {
                        margin-right: 2px;
                        vertical-align: -1px;
                    }

                    .group-count {
                        margin-right: 5px;
                    }
                }

                #actions {
                    min-height: 16px;
                }

                .btn-group {
                    &.open {
                        .dropdown-toggle.enabled {
                            border-radius: 4px 4px 4px 4px;
                        }
                    }
                }

                .btn-icon span.delete {
                    vertical-align: -3px;

                    svg {
                        fill: @coveo-dark-blue;
                    }
                }

                .dropdown-menu {
                    left: inherit;
                    right: 0;
                    text-align: left;
                    min-width: 135px;

                    .arrow-up {
                        right: 1px;
                    }

                    .dropdown-label {
                        font-size: 12px;
                        padding-left: 15px;

                        &:hover {
                            background: none;
                        }
                    }

                    .hide {
                        display: none;
                    }
                }

                .dropdown-toggle span.menu {
                    vertical-align: 1px;
                    svg {
                        fill: @coveo-dark-blue;
                    }
                }
            }
        }

        &:first-child {
            padding-left: 10px;
        }

        &:hover > td {
            background-color: @table-row-background-hover;

            .prompt .prompt-danger {
                background-color: @table-row-background-hover;
                box-shadow: -15px 0 25px 0 @table-row-background-hover;
            }
        }

        &.empty td {
            text-align: center;
            padding: 25px;
        }

        &.admin-focus {
            td {
                background-color: #f5f9fd;

                &.admin-focus-cell {
                    background-color: #ebf3fb;
                }
            }
        }

        &.selected {
            background-color: @block-background-color;

            td:first-child {
                border-left: 5px solid @coveo-orange;
                padding-left: 15px;
            }
        }
    }

    &.row-selected td, &.row-selected:hover td {
        background-color: @table-row-background-selected;
    }

    &.confirm-delete {
        .row-selected td, &.row-selected:hover td {
            transition: background-color 300ms;
            border-color: @invalid-message-background-color;
            background-color: @invalid-background-color;
        }
    }
}
