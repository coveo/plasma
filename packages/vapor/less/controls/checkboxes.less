// Checkboxes
//
// Custom checkboxes. Compatible IE9+.
//
// Markup:
// <label class="coveo-checkbox-label">
//   <input type="checkbox" class="coveo-checkbox">
//   <button></button>
//   <span>Default</span>
// </label>
// </br>
// <label class="coveo-checkbox-label">
//   <input type="checkbox" class="coveo-checkbox" checked>
//   <button></button>
//   <span>Checked</span>
// </label>
// </br>
// <label class="coveo-checkbox-label">
//   <input type="checkbox" class="coveo-checkbox" indeterminate>
//   <button></button>
//   <span>Indeterminate</span>
// </label>
// </br>
// <label class="coveo-checkbox-label disabled">
//   <input type="checkbox" class="coveo-checkbox" disabled>
//   <button></button>
//   <span>Default Disabled</span>
// </label>
// </br>
// <label class="coveo-checkbox-label disabled">
//   <input type="checkbox" class="coveo-checkbox" checked disabled>
//   <button></button>
//   <span>Checked Disabled</span>
// </label>
// </br>
// <label class="coveo-checkbox-label disabled">
//   <input type="checkbox" class="coveo-checkbox" indeterminate disabled>
//   <button></button>
//   <span>Indeterminate Disabled</span>
// </label>
//
// Styleguide 5.3
@import (reference) "../common/colors";

input[type=checkbox].coveo-checkbox {
    display: none;

    & + button {
        background: @body-background-color none 0 0;
        border: 1px solid rgba(57, 95, 132, 0.5);
        border-radius: 2px;
        cursor: pointer;
        height: 16px;
        width: 16px;
        padding: 0;
        outline: none;
        vertical-align: bottom;

        transition: all 200ms;

        &:hover, &focus {
            background-color: @body-background-color;
            box-shadow: 0 0 2px @coveo-blue;
        }
    }

    &:disabled + button {
        opacity: 0.6;
        cursor: default;
    }

    &:checked {
        & + button {
            position: relative;
            background-color: @coveo-green;
            border-color: @coveo-green;

            &:hover, &focus {
                box-shadow: 0 0 2px @coveo-grey;
            }

            &:after {
                content: '';
                display: block;
                box-sizing: content-box;

                // Make it a small rectangle so the border will create an L-shape
                width: 4px;
                height: 8px;

                // Add a white border on the bottom and left, creating that 'L'
                border: solid white;
                border-width: 0 2px 2px 0;

                // Rotate the L 40 degrees to turn it into a checkmark
                transform: rotate(40deg);

                // Position it in the center of the box
                position: absolute;
                top: 1px;
                left: 4px;
            }
        }
    }

    &:indeterminate + button {
        position: relative;

        &:after {
            content: '';
            display: block;
            box-sizing: content-box;

            width: 8px;
            height: 0;

            border-bottom: solid 2px @coveo-blue;

            position: absolute;
            top: 6px;
            left: 3px;
        }
    }
}

label.coveo-checkbox-label {
    display: inline;
    line-height: 16px;
    vertical-align: middle;

    & + label.coveo-checkbox-label {
        margin-top: 5px;
    }

    &.admin-text-inline {
        input[type=checkbox].coveo-checkbox {
            & + button {
                margin-top: 0;
            }
        }
    }

    &.disabled span {
        opacity: 0.4;
    }
}
